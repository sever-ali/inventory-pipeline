<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Inventory Tracker</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <ul class="flashes">
          {% for category, message in messages %}
            <li class="{{ category }}">{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

  <div class="container">
    <h1>Inventory Tracker</h1>

    <form method="GET">
      <input name="q" type="text" placeholder="Search by name or location" value="{{ request.args.get('q', '') }}">
      <button type="submit">Search</button>
    </form>

    <form method="POST" action="{{ url_for('main.add_item') }}">
      <input type="text" name="name" placeholder="Item name" required>
      <input type="number" name="quantity" placeholder="Quantity" required>
      <input type="text" name="location" placeholder="Location" required>
      <button type="submit">Add Item</button>
    </form>

{% for item in items %}
  <div class="item">
    <strong>{{ item.name }}</strong> ({{ item.quantity }}) at {{ item.location }}
    <form action="{{ url_for('main.delete_item', item_id=item.id) }}" method="POST" style="display:inline;">
      <button type="submit">Delete</button>
    </form>
    <a href="{{ url_for('main.edit_item', item_id=item.id) }}">
      <button>Edit</button>
    </a>
  </div>
{% endfor %}

  </div>
</body>
</html>
